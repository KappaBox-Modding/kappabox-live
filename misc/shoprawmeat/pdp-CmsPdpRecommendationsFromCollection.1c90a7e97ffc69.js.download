(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[327],{1401:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var o=a(2),r=a(24),c=a.n(r),d=a(494),n=a(21),s=a(25),l=a(690);const i={items:{},loadingOverlay:!1,numResults:0,pageNum:1,pageSize:6};function u(e=i,t){switch(t.type){case l.b:const{pageNum:a,pageSize:r,numResults:d,items:n,extraData:s}=t;return c()(e,{$merge:Object(o.a)({pageNum:a,pageSize:r,numResults:d},s),items:{$merge:n}});default:return e}}function m(e){return Object(n.b)(i,u,{loadingOverlay:Object(s.c)(d.a,e)})}},1936:function(e,t,a){"use strict";a.r(t),a.d(t,"CmsPdpRecommendationsFromCollection",(function(){return p}));var o=a(2),r=a(0),c=a.n(r),d=a(5),n=a(111),s=a(32),l=a(37),i=a(83),u=a(124),m=a(13),b=a(2772),I=a(3018),O=a.n(I);const p=Object(r.memo)(({newTab:e,productStateKey:t,suggestedIdeaBoardsStateKey:a})=>{const[l,m]=Object(n.b)({buffer:150}),I=Object(r.useContext)(i.a),p=Object(d.d)(),{rootProductId:j}=g({productStateKey:t,suggestedIdeaBoardsStateKey:a});Object(r.useEffect)(()=>{p(Object(s.fb)({suggestedIdeaBoardsStateKey:a},t))},[]);const w=Object(r.useCallback)((e,t)=>{p(Object(u.d)({context:Object(o.a)(Object(o.a)({},I),{},{ideaboardId:t}),event:"click",params:{valueType:"product",values:[e]}}))},[I]),B=Object(r.useCallback)(e=>{p(Object(u.d)({context:Object(o.a)(Object(o.a)({},I),{},{ideaboardId:e}),event:"click"}))},[I]),f=Object(r.useCallback)((e,t)=>{p(Object(u.d)({context:Object(o.a)(Object(o.a)({},I),{},{ideaboardId:t}),event:"seen",params:{valueType:"product",values:[e.id]}}))},[I]);Object(r.useCallback)((e,t)=>{p(Object(u.d)({context:Object(o.a)(Object(o.a)({},I),{},{ideaboardId:t}),event:"seen",params:{valueType:"product",values:e}}))},[I]);{const t=1125,o=6,r=Math.round((t-16*(o-1))/o);return c.a.createElement(b.a,{arrowPosition:"outsideContainer",className:O.a.desktop,imageSize:r,isInView:m,isInViewRef:l,newTab:e,onIdeaBoardLinkClick:B,onItemInView:f,onProductClick:w,pageSize:36,productId:j,stateKey:a})}}),g=e=>Object(d.e)(t=>({rootProductId:Object(l.d)(t,e.productStateKey).rootProductId}),m.q);t.default=p},2629:function(e,t,a){},2772:function(e,t,a){"use strict";a.d(t,"a",(function(){return W}));var o=a(2),r=a(15),c=a(131),d=a.n(c),n=a(182),s=a.n(n),l=a(0),i=a.n(l),u=a(16),m=a(29),b=a(6),I=a(30),O=a(151),p=a(10),g=a(1727),j=a(102),w=a(13),B=a(1541),f=a(1392),N=a(1171);a(2629);const S=Object(p.a)("SuggestedIdeaBoardProducts"),v=e=>{let{addIdeaBoardProductsReducer:t,boards:a,className:c,currentBoardId:n,currentBoardNum:p,embedTitle:v,imageSize:C,allowRichSnippets:k,isInView:_,isInViewRef:P,maxBoardsToShow:h,newTab:y,numItems:E,onIdeaBoardLinkClick:z,onItemInView:T,onProductClick:R,productId:x,showIdeaBoardOwnerName:K,showTitle:V,title:D,totalNumIdeaBoards:L,useSeoTitle:A,zString:M}=e,F=Object(r.a)(e,["addIdeaBoardProductsReducer","boards","className","currentBoardId","currentBoardNum","embedTitle","imageSize","allowRichSnippets","isInView","isInViewRef","maxBoardsToShow","newTab","numItems","onIdeaBoardLinkClick","onItemInView","onProductClick","productId","showIdeaBoardOwnerName","showTitle","title","totalNumIdeaBoards","useSeoTitle","zString"]);Object(l.useEffect)(t,[]),Object(l.useEffect)(()=>{F.onSelectPage(1,F.pageSize,{ideaBoardNum:1,pd:x})},[x]);const $=Object(l.useCallback)(()=>{const e=Math.min(h,L);F.onSelectPage(1,F.pageSize,{ideaBoardNum:p+1<=e?p+1:1,pd:x})},[p,h,x,L,F.onSelectPage,F.pageSize]),H=Object(l.useCallback)((e,t)=>{Object(I.h)(O.a.ClickOnCollectionsProduct(t.id)),null==R||R(t.id,n)},[n,R]),U=Object(l.useCallback)(e=>{null==T||T(e,n)},[n,T]),q=s()(a,{boardId:n}),G=q?d()(q.products,e=>Object(o.a)({cellType:"Product"},e)):[],[W,J,Q]=Object(g.a)();Object(j.a)(Q),Object(l.useEffect)(()=>{G.length>0&&Q()},[G.length]);const X=Object(l.useMemo)(()=>{if(J)return{top:J.height/2+"px"}},[null==J?void 0:J.height]),Y=Object(l.useCallback)(()=>{null==z||z(q.boardId)},[q,z]),Z=Object(l.useCallback)((e,t)=>i.a.createElement(B.a,{baseRealviewDim:C,hoverMode:"alternate",newTab:y,noFollow:!0,onClick:H,onIsInView:U,product:e,realviewContainerRef:0===t?W:void 0,showTitle:!0,tabIndex:-1}),[H,U,C,W]);return q?i.a.createElement("div",{ref:P,className:S("&",c,{"&--noItems":0===E})},L>0&&!v&&i.a.createElement("div",{className:S("&-titleRow","row")},i.a.createElement("div",{className:"column"},i.a.createElement(N.a,{title:D||M("zi_product_SuggestedIdeaBoards_PodTitleV2"),afterHr:h>1&&L>1&&i.a.createElement("span",{className:S("&-cycleCollection")},i.a.createElement(m.a,{className:S("&-cycleCollectionNext"),onClick:$},M("zi_product_SuggestedIdeaBoards_Next_v2"),i.a.createElement(b.a,{iconName:b.a.Icon.Greater})))}))),i.a.createElement("div",{className:S("&-titleRow","row")},i.a.createElement("div",{className:S("&-title","large-12","column")},i.a.createElement("div",{className:S("&-ideaBoardTitle")},!v&&i.a.createElement("span",null," "),v&&i.a.createElement("span",null,D||M("zi_product_SuggestedIdeaBoards_PodTitleV2")+":",i.a.createElement("span",null," ")),i.a.createElement(u.a,{href:q.url,onClick:Y,target:y?"_blank":void 0},q.title),i.a.createElement("span",null," "),K&&q.ownerProfile&&!Object(w.k)(q.ownerProfile.name)&&M("zi_product_Wishlist_Public_CreatedBy",{memberName:q.ownerProfile.name})))),i.a.createElement("div",{className:S("&-scrolly")},i.a.createElement(f.a,{buttonOverlap:"partialOverlap",buttonStyle:X,items:G,pageSize:6,renderItem:Z}))):null};v.defaultProps={maxBoardsToShow:3,showIdeaBoardOwnerName:!0,stateKey:null};var C=a(5),k=a(690),_=a(50),P=a(8),h=a(24),y=a.n(h),E=a(494),z=a(1401),T=a(21),R=a(25);const x={boardId:"0",boards:{},ideaBoardNum:1,ownerId:"0",totalNumIdeaBoards:0};function K(e=x,t){switch(t.type){case k.b:const a=t,{extraData:o}=a,c=Object(r.a)(a,["extraData"]),{boardId:d,totalNumIdeaBoards:n,ideaBoardNum:s}=o;c.extraData={boardId:d};const l=e.boards[s],i=Object(z.a)(l,c);return y()(e,{$merge:{boardId:d,boards:y()(e.boards,{$merge:{[s]:i}}),ideaBoardNum:s,totalNumIdeaBoards:n}});default:return e}}var V=a(497),D=a.n(V),L=a(122),A=a.n(L),M=a(27);const F=(e,t)=>Object(_.f)(t.stateKey)(e),$=e=>e.entities.ideaBoards,H=e=>e.entities.products,U=e=>e.entities.profiles,q=()=>{const e=Object(M.a)(F,$,H,U,(e,t,a,r)=>d()(A()(D()(e.boards),e=>null!==e&&!!t[e.boardId]),e=>{const{items:c,numResults:n,pageSize:s}=e,l=t[e.boardId];let i=[];for(let t=1;t<=Math.ceil(n/s);t++)i=i.concat(c[t]||[]);return Object(o.a)(Object(o.a)(Object(o.a)({},l),e),{},{ownerProfile:r[l.owningStoreId],products:d()(i,e=>a[e])})}));return(t,a)=>{const o=Object(_.f)(a.stateKey)(t),r=Object(P.c)(t);if(o){const{boardId:c,ideaBoardNum:d,totalNumIdeaBoards:n}=o;if(n>0){const s=o.boards[o.ideaBoardNum];if(s){const{numResults:o,pageNum:l,pageSize:i}=s;return{boards:e(t,a),currentBoardNum:d,currentBoardId:c,numItems:o,pageNum:l,pageSize:i,totalNumIdeaBoards:n,zString:r}}}}return{boards:[],currentBoardId:null,currentBoardNum:1,numItems:0,totalNumIdeaBoards:0,zString:r}}},G=(e,t)=>({addIdeaBoardProductsReducer:()=>{var a;e(Object(_.c)(t.stateKey,(a=t.stateKey,Object(T.b)(x,K,{loadingOverlay:Object(R.c)(E.a,a)}))))},onSelectPage:(a,o,r,c)=>{((a,o,r,c)=>{e(Object(k.c)(t.stateKey,a,o,"/svc/z3/suggestedideaboardproducts/get",r,c))})(a,o,r,c)}});const W=(J=v,Object(C.b)(q,G)(J));var J},3018:function(e,t,a){e.exports={mobile:"CmsPdpRecommendationsFromCollection_mobile",desktop:"CmsPdpRecommendationsFromCollection_desktop"}}}]);