(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[2],{172:function(e,t,s){"use strict";s.d(t,"a",(function(){return L})),s.d(t,"b",(function(){return A})),s.d(t,"c",(function(){return R}));var o=s(2),i=s(3),n=s(530),a=s.n(n),l=s(182),r=s.n(l),h=s(0),p=s.n(h),c=s(26),d=s.n(c),u=s(532),m=s.n(u),g=s(599),b=s.n(g),O=s(196),v=s.n(O),C=s(9),f=s.n(C),y=s(38),S=s(137),j=s(10),w=s(54),E=s(7),I=s(8),k=s(19),D=s(79);s(169),s(415);const N=Object(j.a)("Droplist");class x extends p.a.PureComponent{constructor(...e){super(...e),Object(i.a)(this,"state",{open:!1,searchString:"",selected:this.props.defaultOption,showAbove:null,showScrollbar:!1}),Object(i.a)(this,"droplistId",Object(k.i)("droplist")),Object(i.a)(this,"itemsWrapper",p.a.createRef()),Object(i.a)(this,"listElement",p.a.createRef()),Object(i.a)(this,"fixedBottomContent",p.a.createRef()),Object(i.a)(this,"paletteComponent",p.a.createRef()),Object(i.a)(this,"selectElement",p.a.createRef()),Object(i.a)(this,"selectedListItem",p.a.createRef()),Object(i.a)(this,"delayClearSearch",v()(()=>{this.setState({searchString:""})},800)),Object(i.a)(this,"bodyClickHandler",e=>{!Object(y.findDOMNode)(this).contains(e.target)&&this.state.open&&this.handleOutsideClick()}),Object(i.a)(this,"getCurItemVars",()=>{const e=this.getAllOptions(),t=this.state.selected;return{options:e,nextItem:t,curIndex:b()(e,["value",t.value])}}),Object(i.a)(this,"getNextItem",()=>{const{options:e,nextItem:t,curIndex:s}=this.getCurItemVars();if(s>-1){return e[s<e.length-1?s+1:0]}return t}),Object(i.a)(this,"getPrevItem",()=>{const{options:e,nextItem:t,curIndex:s}=this.getCurItemVars();if(s>-1){return e[s>0?s-1:e.length-1]}return t}),Object(i.a)(this,"bodyKeyDownHandler",e=>{if(this.props.useNativeControls)return;if((void 0!==this.props.focused?this.props.focused:this.state.focused)||this.state.open){if(40===e.keyCode||38===e.keyCode){e.preventDefault(),e.altKey&&this.setState({open:!0});const t=40===e.keyCode?this.getNextItem():this.getPrevItem();this.select(t),this.props.onChange&&t&&t.value&&!t.disabled&&this.props.onChange(t.value)}if(13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.props.onChange&&this.props.changeOnEnter&&this.props.onChange(this.state.selected.value),this.setState({open:!this.state.open,showAbove:null})),this.props.useKeyboardSearch&&e.keyCode>64&&e.keyCode<91){e.preventDefault();const t=String.fromCharCode(e.keyCode).toLocaleLowerCase(),s=this.state.searchString+t,o=this.props.options.findIndex(e=>e.display.toString().toLocaleLowerCase().startsWith(s));if(o>=0){const e=this.props.options[o],t=e.value;!e.disabled&&this.props.onChange&&(this.props.onChange(t),this.select(e))}this.setState({searchString:this.state.searchString+t})}else if(9===e.keyCode)this.setState({open:!1,showAbove:null});else{const t=new Date;32===e.keyCode&&e.preventDefault(),this.setState({lastKeyDown:t})}}}),Object(i.a)(this,"getAllOptions",()=>[this.props.defaultOption].concat(this.props.options)),Object(i.a)(this,"select",e=>{this.state.open&&this.setState({selected:e})}),Object(i.a)(this,"handleBlur",e=>{this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)}),Object(i.a)(this,"handleChange",e=>{var t,s;null===(t=(s=this.props).onChange)||void 0===t||t.call(s,e.currentTarget.value)}),Object(i.a)(this,"toggleOpen",()=>{const{open:e,showAbove:t}=this.state;this.setState({open:!e,showAbove:e?t:null})}),Object(i.a)(this,"handleFocus",e=>{this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)}),Object(i.a)(this,"handleItemClick",e=>{this.select(e);const t=e.value;e.disabled?this.handleOutsideClick():(this.props.onChange&&this.props.onChange(t),this.toggleOpen())}),Object(i.a)(this,"handleOutsideClick",()=>{const{value:e}=this.props;this.setState({selected:this.props.getOptionForValueWithOptions(this.props.options,e,this.props.defaultOption)}),this.toggleOpen()}),Object(i.a)(this,"handleRootClick",e=>{this.props.stopClickEventPropagation&&e.stopPropagation()}),Object(i.a)(this,"getListItems",()=>{const{options:e}=this.props;let t=!1;const s=[];for(let o=0;o<e.length;o++){const i=e[o];i.groupEnd&&(t=!1);const n=this.props.value===i.value,a=N("&-listItem",{"&-listItem--disabled":i.disabled,"&-listItem--groupEnd":i.groupEnd,"&-listItem--groupStart":i.groupStart,"&-listItem--selected":n,"&-listItem--tentativeSelected":this.state.selected&&this.state.selected.value===i.value,"&-listItem--withinGroup":t}),l=N("&-displayText");let r;this.props.height&&(r={height:this.props.height}),s.push(p.a.createElement("li",{className:a,key:null!=i.value?i.value.toString():"item"+o,ref:n?this.selectedListItem:void 0,style:r,onClick:()=>this.handleItemClick(i),onMouseDown:e=>e.preventDefault()},p.a.createElement("div",{className:l,style:{maxWidth:this.props.maxPaletteWidth}},i.display))),i.groupStart&&(t=!0)}return p.a.createElement("ul",{ref:this.listElement,style:{minWidth:this.props.width?this.props.width:"100%"}},s)})}static getDerivedStateFromProps(e){return{selected:e.getOptionForValueWithOptions(e.options,e.value,e.defaultOption)}}componentDidUpdate(e,t){this.props.useNativeControls||this.checkShowAbove(),(t.open||!this.state.open)&&t.selected&&this.state.selected&&t.selected.value===this.state.selected.value||this.scrollToSelectedOption(),!t.open&&this.state.open?(document.body.addEventListener("mousedown",this.bodyClickHandler),this.props.onOpen&&this.props.onOpen()):t.open&&!this.state.open&&(document.body.removeEventListener("mousedown",this.bodyClickHandler),this.props.onClose&&this.props.onClose()),t.searchString!==this.state.searchString&&this.state.searchString&&this.delayClearSearch()}componentDidMount(){this.state.open&&document.body.removeEventListener("mousedown",this.bodyClickHandler),document.body.addEventListener("keydown",this.bodyKeyDownHandler,!0)}componentWillUnmount(){document.body.removeEventListener("keydown",this.bodyKeyDownHandler,!0),document.body.removeEventListener("mousedown",this.bodyClickHandler)}checkShowAbove(){if(this.state.open&&null===this.state.showAbove){let e=0,t=window.innerHeight;const{constrainPaletteTo:s}=this.props;if(s){const o=m()(s)?document.body.querySelector(s):s;if(o){const s=o.getBoundingClientRect();e=s.top,t=s.top+s.height}}const o=Object(y.findDOMNode)(this).getBoundingClientRect(),i=Object(y.findDOMNode)(this.paletteComponent.current).firstElementChild.getBoundingClientRect(),n=this.listElement.current.getBoundingClientRect(),a=this.fixedBottomContent.current?this.fixedBottomContent.current.clientHeight:0,l=o.top-i.height>e,r=o.bottom+i.height<t,h=r||!l&&!r;this.setState({showAbove:!h,showScrollbar:n.height+a>i.height})}}scrollToSelectedOption(){if(!this.listElement.current)return;const e=this.listElement.current.getBoundingClientRect(),t=Object(y.findDOMNode)(this.paletteComponent.current).querySelector(".Palette-contents").getBoundingClientRect(),s=this.selectedListItem.current;if(s){const o=s.getBoundingClientRect(),i=o.top+o.height/2-e.top-t.height/2;this.itemsWrapper.current.scrollTop=i}}getFixedBottomContent(){const{fixedBottomContent:e}=this.props;if(e)return p.a.createElement("div",{className:N("&-fixedBottomContent"),ref:this.fixedBottomContent},e)}render(){var e;const{open:t,selected:s,showAbove:o,showScrollbar:i}=this.state,{disabled:n,options:a,paletteStyles:l,renderOpenDefaultContent:r,selectedItemClassName:h,showError:c,size:u,styleType:m,useNativeControls:g,width:b}=this.props,O=this.props.droplistId||this.droplistId,v=void 0!==this.props.focused?this.props.focused:this.state.focused;let C,y=s;if((t||null==s||this.props.disableSelection)&&null!=this.props.defaultOption&&(y=this.props.defaultOption),null==y&&(y=a[0]),!this.props.useNativeControls){const e={};this.props.height&&(e.height=this.props.height),C=p.a.createElement("div",{className:N("&-wrapper")},p.a.createElement("button",{"aria-haspopup":!0,className:N("&-selectedItem",h),id:O,style:e,onClick:this.toggleOpen,onMouseOver:this.select.bind(this,this.props.getOptionForValueWithOptions(this.props.options,this.props.value,this.props.defaultOption)),onMouseDown:e=>{this.props.avoidMouseFocus&&e.preventDefault()},onFocus:this.handleFocus,onBlur:this.handleBlur,type:"button"},p.a.createElement("div",{className:N("&-display")},p.a.createElement("div",{className:N("&-displayText")},y&&y.display))),r&&p.a.createElement("div",{className:N("&-openDefaultContent")},r()),t&&p.a.createElement(S.a,{className:N("&-listItems"),closeOnBodyClick:!1,onRequestClose:this.handleOutsideClick,ref:this.paletteComponent,style:l},p.a.createElement("div",{className:N("&-itemsWrapper"),ref:this.itemsWrapper},this.getListItems()),this.getFixedBottomContent()))}const j=this.props.defaultOption&&!a.some(e=>e.value===this.props.defaultOption.value)?[this.props.defaultOption].concat(a):a;let w;c&&(w=p.a.createElement(D.a,{message:this.props.validationErrors,bottomOfTarget:!0}));const I=N("&","&--"+L[u],"&--"+A[m],`&--${this.context&&this.context.theme}Theme`,{"&--closed":!t,"&--custom":!g,"&--disabled":n,"&--error":c,"&--focus":v,"&--isDisney":Object(E.a)().isDisneyIframe,"&--open":t,"&--showAbove":o,"&--showBelow":!o,"&--showScrollbar":i});return p.a.createElement("div",{className:N("&-outerWrapper"),style:b&&b.endsWith("%")?{width:"100%"}:void 0},this.props.label&&p.a.createElement("label",{className:N("&-labelContent",this.props.labelClassName),htmlFor:O},this.props.label),p.a.createElement("div",{className:f()(this.props.className,I),onClick:this.handleRootClick,style:b?{width:b}:void 0},p.a.createElement("select",{autoComplete:this.props.autoComplete,disabled:n,id:g?O:null,name:this.props.name,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,ref:this.selectElement,value:null!==(e=y.value)&&void 0!==e?e:""},j.map((e,t)=>{var s;return p.a.createElement("option",{key:null!=e.value?e.value.toString():"item"+t,value:null!==(s=e.value)&&void 0!==s?s:""},d()(e.nativeDisplay)&&null!=e.display?e.display.toString():e.nativeDisplay)})),C,w))}}function B(e){const t=Object(I.e)(),s=Object(h.useMemo)(()=>({display:t("zi_myzazzle_Reviews_SelectOne"),value:""}),[t]);return p.a.createElement(x,Object(o.a)(Object(o.a)({},e),{},{defaultOption:e.defaultOption||s}))}var L,A;function W(e,t,s){if(null!=s&&(e=[s].concat(e)),null==t)return s;const o=r()(e,a()("value",t));return o||(e.length<1?s:e[0])}Object(i.a)(x,"contextType",w.a),Object(i.a)(x,"Sizes",L),Object(i.a)(x,"defaultProps",{useKeyboardSearch:!1,width:"100%"}),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(L||(L={})),function(e){e[e.Normal=0]="Normal",e[e.White=1]="White"}(A||(A={}));const F={changeOnEnter:!0,defaultOption:null,label:"",onChange:()=>{},options:[],size:L.Medium,styleType:A.Normal,value:null};class R extends p.a.Component{render(){const e=Object(o.a)(Object(o.a)({},this.props),{},{getOptionForValueWithOptions:W});return p.a.createElement(B,Object(o.a)({},e))}}Object(i.a)(R,"Styles",A),Object(i.a)(R,"defaultProps",F);class _ extends p.a.Component{render(){const e=Object(o.a)(Object(o.a)({},this.props),{},{getOptionForValueWithOptions:W});return p.a.createElement(x,Object(o.a)({},e))}}Object(i.a)(_,"Styles",A),Object(i.a)(_,"defaultProps",F)}}]);