(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[28],{1178:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return l}));var o=n(1192),a=n.n(o),i=n(423),u=n.n(i);function r(t,e,n,o){e=null!=e?e:1,n=null!=n?n:99999,o=null!=o?o:1;const a=u()(t,e,n);return Math.round(Math.ceil(a/o)*o)}function l(t,e,n){const o=[];if((t=a()(t,t=>!t.hasDiscount)).length>0){if(n)for(let n=0,a=0;n<e.length;){const i=e[n],u=t[a];!u||!u.hasDiscount||i<u.minQuantity?(o.push({quantity:i}),n++):i>u.maxQuantity?a++:(o.push({quantity:i,discount:u}),n++)}else{let n;for(let a=0,i=0;a<e.length||i<t.length;){const u=e[a],r=t[i];u&&(!r||u<r.minQuantity)?(o.push({quantity:u,discount:n}),a++):(o.push({quantity:r.minQuantity,discount:r,isDiscountTier:!0}),i++,n=r)}if(o.length>1){let t,e;for(let n=0;n<o.length-1;n++)t=o[n],e=o[n+1],(t.discount||e.discount)&&.9*e.quantity<t.quantity&&(!t.discount&&e.discount?o.splice(n,1):t.discount&&!e.discount?o.splice(n+1,1):t.discount&&e.discount&&(t.isDiscountTier?o.splice(n+1,1):o.splice(n,1)),n--)}}return o}return e.map(t=>({quantity:t}))}},1193:function(t,e,n){"use strict";n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return h}));var o=n(2),a=n(9),i=n.n(a),u=n(0),r=n.n(u),l=n(5),c=n(735),s=n(13),d=n(293),p=n(8),b=n(851),m=n(37),_=n(30),f=n(151),v=n(32),y=n(1178),g=n(826),O=n.n(g);const D=Object(u.memo)(({bulkOrderLabel:t,hasForcedQuantities:e,maxQuantity:n,minQuantity:o,onChange:a,onLaunchBulkOrderingDialog:l,pluralUnitLabel:s,quantities:m,quantity:v,quantityIncrement:g,showBulkOrder:D,singularUnitLabel:h,volumeDiscounts:j})=>{const k=Object(d.c)(),E=Object(p.e)(),w=Object(u.useCallback)(t=>{"@bulk"===t?null==l||l():a(parseInt(t,10))},[a,l]),q=Object(u.useMemo)(()=>Object(y.a)(j,m,e),[e,m,j]),N=`${v} ${1===v?h:s}`,C=q.map(t=>{var e;const n=v===t.quantity,o=null===(e=t.discount)||void 0===e?void 0:e.discount,a=1===t.quantity?h:s;return{display:r.a.createElement("div",null,t.quantity,a&&" "+a,o&&r.a.createElement("span",{className:i()(O.a.discount,n&&O.a.discount__active)}," ",o.indexOf("%")>-1?E("zi_product_quantitySelectorDiscountMessagePct",{discount:o}):E("zi_product_quantitySelectorDiscountMessageAmt",{discount:o}))),value:t.quantity.toString()}});D&&C.push({display:Object(c.a)(t,k),value:"@bulk"});const[S,L]=Object(u.useState)(v.toString());Object(u.useEffect)(()=>{L(v.toString())},[v]);return r.a.createElement("div",{className:i()(O.a.root)},r.a.createElement(b.a,{buttonClassName:i()(O.a.droplistButton,!1),onChange:w,options:C,placeholder:N,value:v.toString()}),r.a.createElement("input",{"aria-label":E("zi_product_VolDisc_QuantityColumn"),className:O.a.input,disabled:e,inputMode:"numeric",max:n,min:o,onBlur:()=>{const t=parseInt(S,10);if(Number.isNaN(t)||t===v)L(v.toString());else{const e=Object(y.b)(t,o,n,g);L(e.toString()),a(e),Object(_.h)(f.a.EnterNumberInQuantityPicker(e.toString()))}},onChange:t=>{L(t.currentTarget.value)},onKeyDown:t=>{"Enter"===t.key&&document.activeElement.blur()},step:g,type:"number",value:S}))}),h=({onLaunchBulkOrderingDialog:t,productStateKey:e,showBulkOrder:n})=>{const a=Object(l.d)(),i=j(e);return r.a.createElement(D,Object(o.a)(Object(o.a)({},i),{},{onChange:t=>{a(Object(v.gb)(t,e))},onLaunchBulkOrderingDialog:t,showBulkOrder:n}))},j=t=>Object(l.e)(e=>{var n;const o=Object(m.d)(e,t);return{bulkOrderLabel:null===(n=o.pbjOverrides.bulkOrdering)||void 0===n?void 0:n.label,hasForcedQuantities:o.hasForcedQuantities,maxQuantity:o.maxQuantity,minQuantity:o.minQuantity,pluralUnitLabel:o.pluralUnitLabel,quantities:o.quantities,quantity:o.quantity,quantityIncrement:o.quantityIncrement,singularUnitLabel:o.singularUnitLabel,volumeDiscounts:o.pricing.volumeDiscountTiers}},s.q)},692:function(t,e,n){t.exports={root:"DroplistPalette_root",option:"DroplistPalette_option",option__focused:"DroplistPalette_option__focused",option__selected:"DroplistPalette_option__selected"}},735:function(t,e,n){"use strict";function o(t,e){return e(t||"product.ui.config.bulk_ordering.order_multiple[title]")}function a(t,e,n){let o;return t.label&&(o=e(t.label)),o||(o=n("zi_product_ProductOptions_DefaultHelpLabel")),o}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}))},807:function(t,e,n){"use strict";function o(t){let e;const n=(...n)=>{null==e&&(e=requestAnimationFrame((n=>()=>{e=null,t(...n)})(n)))};return n.cancel=()=>cancelAnimationFrame(e),n}n.d(e,"a",(function(){return o}))},826:function(t,e,n){t.exports={root:"QuantitySelector2_root",droplistButton:"QuantitySelector2_droplistButton",droplistButton__mobile:"QuantitySelector2_droplistButton__mobile",input:"QuantitySelector2_input",discount:"QuantitySelector2_discount",discount__active:"QuantitySelector2_discount__active"}},851:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var o=n(9),a=n.n(o),i=n(0),u=n.n(i),r=n(108),l=n(8),c=n(19),s=n(692),d=n.n(s);const p=Object(i.memo)((function(t){const{ariaLabel:e,className:n,id:o,onChange:r,onClose:l,optionClassName:s,options:p,preventDefault:b,value:m}=t,_=Object(i.useRef)();Object(i.useEffect)(()=>{_.current.focus()},[]);const f=Object(c.j)("DroplistPalette_option"),v=t=>`${f}_${t}`,[y,g]=Object(i.useState)();return Object(i.useEffect)(()=>{if(void 0===y)return;const t=_.current.getBoundingClientRect(),e=document.querySelector(`.${d.a.option}:nth-child(${y+1})`).getBoundingClientRect(),n=e.top<t.top,o=e.bottom>t.bottom;n?_.current.scrollTop-=t.top-e.top:o&&(_.current.scrollTop+=e.bottom-t.bottom)},[y]),Object(i.useEffect)(()=>{const t=t=>{_.current.contains(t.target)||null==l||l()};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[l]),u.a.createElement("div",{"aria-activedescendant":m?v(m):void 0,"aria-label":e,className:a()(d.a.root,n),id:o,onBlur:()=>{g(void 0)},onFocus:()=>{if(m){const t=p.findIndex(t=>t.value===m);g(t>-1?t:0)}else g(0)},onKeyDown:t=>{switch(t.key){case"ArrowUp":t.preventDefault(),g(t=>{const e=t-1;return e>=0?e:t});break;case"ArrowDown":t.preventDefault(),g(t=>{const e=t+1;return e<p.length?e:t});break;case"End":t.preventDefault(),g(p.length-1);break;case"Enter":case" ":t.preventDefault(),r(p[y].value);break;case"Escape":t.stopPropagation(),null==l||l();break;case"Home":t.preventDefault(),g(0);break;case"Tab":l&&(t.preventDefault(),l())}},onMouseDown:t=>{b&&t.preventDefault()},ref:_,role:"listbox",tabIndex:0},p.map((t,e)=>{const n=e===y,o=t.value===m;return u.a.createElement("button",{"aria-selected":o||void 0,className:a()(d.a.option,n&&d.a.option__focused,o&&d.a.option__selected,s),id:v(t.value),key:t.value,onClick:()=>{r(t.value)},onFocus:t=>{t.stopPropagation()},role:"option",tabIndex:-1},t.display)}))}));var b=n(287),m=n.n(b);const _=Object(i.memo)((function(t){var e,n;const{buttonClassName:o,buttonContent:s,className:d,disabled:b,error:_,label:f,onChange:v,optionClassName:y,options:g,preventDefault:O,value:D}=t,h=Object(c.j)("Droplist2_button"),j=null!==(e=t.buttonId)&&void 0!==e?e:h,[k,E]=Object(i.useState)(!1),w=Object(i.useRef)(),q=Object(c.j)("Droplist2_palette"),N=Object(i.useRef)(),C=Object(l.e)();Object(r.b)(!1);const S=Object(i.useCallback)(()=>{E(!1),w.current.focus()},[]),L=g.find(t=>t.value===D),Q=null!==(n=t.placeholder)&&void 0!==n?n:C("zi_myzazzle_Reviews_SelectOne"),A="string"==typeof f?f:"string"==typeof Q?Q:C("zi_myzazzle_Reviews_SelectOne");return u.a.createElement("div",{className:a()(m.a.root,d),ref:N},f&&u.a.createElement("label",{className:m.a.label,htmlFor:j},f),u.a.createElement("button",{"aria-controls":k?q:void 0,"aria-expanded":k||void 0,"aria-haspopup":"listbox",className:a()(m.a.button,_&&m.a.button__error,o),disabled:b,id:j,onClick:()=>{E(t=>!t)},onKeyDown:t=>{"ArrowDown"!==t.key&&"ArrowUp"!==t.key||t.preventDefault();if(window.navigator.userAgent.includes("Windows")){const e=g.findIndex(t=>t.value===D);"ArrowDown"===t.key&&e+1<g.length?v(g[e+1].value):"ArrowUp"===t.key&&e-1>=0&&v(g[e-1].value)}else"ArrowDown"!==t.key&&"ArrowUp"!==t.key||E(!0)},onMouseDown:t=>{O&&t.preventDefault()},ref:w,type:"button"},null!=s?s:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:m.a.button_display},L?L.display:Q),u.a.createElement("div",{className:a()(m.a.button_caret,k&&m.a.button_caret__open)}))),_&&u.a.createElement("div",{className:m.a.error},_),k&&u.a.createElement(p,{ariaLabel:A,className:m.a.palette,id:q,onChange:t=>{v(t),S()},onClose:()=>{S()},optionClassName:y,options:g,preventDefault:O,value:D}))}))}}]);