(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[49,461],{1128:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return p}));var o=n(2),c=n(24),i=n.n(c),s=n(21),r=n(66),a=n(147),d=n(520);const u=Object(o.a)(Object(o.a)({},{}),{}),b={inboxOwnerId:"0",hasUnreadMessages:!1,hasCompletedOnboarding:!1};const l=Object(o.a)(Object(o.a)({inboxStateKey:Object(s.c)(""),chatSettings:function(e=b,t){switch(t.type){case a.Z:const n=t;return i()(e,{$merge:{hasCompletedOnboarding:n.hasCompletedOnboarding}});default:return e}}},u),r.i),f={activeTab:"chat",hasJoinedSdkRoom:!1,hasUserDismissedLangNotification:!1,inProgressMessage:{},isLoadingMessages:!1,messageIds:[],messageParams:null,myself:null,roomId:null};function O(e=f,t){switch(t.type){case a.cb:const n=t;return i()(e,{$merge:Object(o.a)({},n.state)});case a.U:const c=t;return i()(e,{$merge:{messageIds:c.messageIds,messageParams:c.messageParams}});case a.X:const s=t;return i()(e,{$merge:{inProgressMessage:void 0===s.inProgressMessage?e.inProgressMessage:i()(e.inProgressMessage,{$merge:s.inProgressMessage})}});case a.Y:const r=t,d=e.inProgressMessage&&e.inProgressMessage.attachmentIds,u=d?[...d,...r.attachmentIds]:r.attachmentIds;return i()(e,{$merge:{inProgressMessage:{message:e.inProgressMessage?e.inProgressMessage.message:"",attachmentIds:u}}});case a.I:const b=t;return i()(e,{$merge:{activeTab:b.tab}});case a.G:const l=t;return i()(e,{$merge:{hasUserDismissedLangNotification:l.hasDismissedNotification}});default:return e}}const y={activeRoomTypes:new Set,clientStateHydrated:!0,isMobileChatDialogOpen:!1,roomIdsToStateKey:{},rooms:{roomIds:[],hasMoreChats:!1,isLoading:!0,parameters:{pageSize:d.b}},settings:{blockedUsers:null,isOnline:!1,isOpen:!1}},m=Object(o.a)(Object(o.a)({},y),{hasInitialized:!1,inboxOwnerId:"0",status:"loading",selectedRoomIdOrDraftStateKey:null,draftStateKeys:[]});function j(e,t){return void 0===t?e:i()(e,{$merge:t})}function I(e,t){return void 0===t?e:i()(e,{$merge:t})}function g(e=m,t){switch(e.clientStateHydrated||(e=Object(o.a)(Object(o.a)({},y),e)),t.type){case a.V:const n=t;return i()(e,{$merge:Object(o.a)(Object(o.a)({},n.state),{},{rooms:j(e.rooms,n.state.rooms),settings:I(e.settings,n.state.settings)})});case a.W:const c=t;return c.roomIdsToStateKey?i()(e,{$merge:{roomIdsToStateKey:c.roomIdsToStateKey,rooms:j(e.rooms,c.state)}}):i()(e,{$merge:{rooms:j(e.rooms,c.state)}});case a.P:const s=t;return i()(e,{$merge:{rooms:j(e.rooms,{isLoading:s.isLoading})}});case a.fb:const r=t;return i()(e,{$merge:{status:"drafting",selectedRoomIdOrDraftStateKey:r.draftStateKey}});case a.gb:const d=t;return i()(e,{$merge:{status:"reading",selectedRoomIdOrDraftStateKey:d.roomId}});case a.w:const u=t;return i()(e,{$merge:{draftStateKeys:u.draftStateKeys}});case a.F:const b=t;return i()(e,{$merge:{settings:I(e.settings,{isOpen:b.isOpen})}});case a.A:const l=t;return i()(e,{$merge:{activeRoomTypes:l.roomTypes}});case a.db:const f=t;return i()(e,{$merge:{isMobileChatDialogOpen:f.isMobileChatDialogOpen}});default:return e}}const h={inboxStateKey:null,participants:[],inProgressMessage:{},showingInfo:!1};function p(e=h,t){switch(t.type){case a.J:const n=t;return i()(e,{$merge:n.draft});case a.ab:const o=t,c=e.inProgressMessage||{};return i()(e,{$merge:{inProgressMessage:void 0===o.inProgressMessage?c:i()(c,{$merge:o.inProgressMessage})}});case a.bb:const s=t,r=e.inProgressMessage&&e.inProgressMessage.attachmentIds,d=r?[...r,...s.attachmentIds]:s.attachmentIds;return i()(e,{$merge:{inProgressMessage:{message:e.inProgressMessage?e.inProgressMessage.message:"",attachmentIds:d}}});case a.L:const u=t;return i()(e,{$merge:{showingInfo:u.showingInfo}});default:return e}}},147:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"sb",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"rb",(function(){return r})),n.d(t,"o",(function(){return a})),n.d(t,"Ab",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"zb",(function(){return b})),n.d(t,"s",(function(){return l})),n.d(t,"Eb",(function(){return f})),n.d(t,"v",(function(){return O})),n.d(t,"Hb",(function(){return y})),n.d(t,"t",(function(){return m})),n.d(t,"Fb",(function(){return j})),n.d(t,"u",(function(){return I})),n.d(t,"Gb",(function(){return g})),n.d(t,"p",(function(){return h})),n.d(t,"Bb",(function(){return p})),n.d(t,"r",(function(){return _})),n.d(t,"Db",(function(){return S})),n.d(t,"m",(function(){return K})),n.d(t,"yb",(function(){return E})),n.d(t,"l",(function(){return C})),n.d(t,"wb",(function(){return R})),n.d(t,"S",(function(){return T})),n.d(t,"vb",(function(){return M})),n.d(t,"T",(function(){return D})),n.d(t,"xb",(function(){return N})),n.d(t,"k",(function(){return A})),n.d(t,"ub",(function(){return P})),n.d(t,"q",(function(){return z})),n.d(t,"Cb",(function(){return k})),n.d(t,"V",(function(){return v})),n.d(t,"Ib",(function(){return L})),n.d(t,"O",(function(){return w})),n.d(t,"mb",(function(){return x})),n.d(t,"W",(function(){return U})),n.d(t,"Jb",(function(){return B})),n.d(t,"P",(function(){return G})),n.d(t,"ec",(function(){return F})),n.d(t,"F",(function(){return $})),n.d(t,"jc",(function(){return H})),n.d(t,"A",(function(){return J})),n.d(t,"db",(function(){return V})),n.d(t,"Xb",(function(){return Y})),n.d(t,"gb",(function(){return X})),n.d(t,"ic",(function(){return W})),n.d(t,"fb",(function(){return q})),n.d(t,"hc",(function(){return Z})),n.d(t,"j",(function(){return Q})),n.d(t,"tb",(function(){return ee})),n.d(t,"cb",(function(){return te})),n.d(t,"Mb",(function(){return ne})),n.d(t,"b",(function(){return oe})),n.d(t,"x",(function(){return ce})),n.d(t,"Ob",(function(){return ie})),n.d(t,"D",(function(){return se})),n.d(t,"Tb",(function(){return re})),n.d(t,"E",(function(){return ae})),n.d(t,"Ub",(function(){return de})),n.d(t,"I",(function(){return ue})),n.d(t,"Yb",(function(){return be})),n.d(t,"G",(function(){return le})),n.d(t,"Vb",(function(){return fe})),n.d(t,"g",(function(){return Oe})),n.d(t,"qb",(function(){return ye})),n.d(t,"y",(function(){return me})),n.d(t,"Pb",(function(){return je})),n.d(t,"e",(function(){return Ie})),n.d(t,"nb",(function(){return ge})),n.d(t,"U",(function(){return he})),n.d(t,"Kb",(function(){return pe})),n.d(t,"C",(function(){return _e})),n.d(t,"Sb",(function(){return Se})),n.d(t,"z",(function(){return Ke})),n.d(t,"Qb",(function(){return Ee})),n.d(t,"X",(function(){return Ce})),n.d(t,"cc",(function(){return Re})),n.d(t,"Y",(function(){return Te})),n.d(t,"dc",(function(){return Me})),n.d(t,"ab",(function(){return De})),n.d(t,"fc",(function(){return Ne})),n.d(t,"bb",(function(){return Ae})),n.d(t,"gc",(function(){return Pe})),n.d(t,"L",(function(){return ze})),n.d(t,"Zb",(function(){return ke})),n.d(t,"c",(function(){return ve})),n.d(t,"jb",(function(){return Le})),n.d(t,"w",(function(){return we})),n.d(t,"Nb",(function(){return xe})),n.d(t,"J",(function(){return Ue})),n.d(t,"bc",(function(){return Be})),n.d(t,"d",(function(){return Ge})),n.d(t,"kb",(function(){return Fe})),n.d(t,"B",(function(){return $e})),n.d(t,"Rb",(function(){return He})),n.d(t,"N",(function(){return Je})),n.d(t,"pb",(function(){return Ve})),n.d(t,"a",(function(){return Ye})),n.d(t,"hb",(function(){return Xe})),n.d(t,"eb",(function(){return We})),n.d(t,"ac",(function(){return qe})),n.d(t,"K",(function(){return Ze})),n.d(t,"ib",(function(){return Qe})),n.d(t,"Z",(function(){return et})),n.d(t,"Lb",(function(){return tt})),n.d(t,"H",(function(){return nt})),n.d(t,"Wb",(function(){return ot})),n.d(t,"f",(function(){return ct})),n.d(t,"ob",(function(){return it})),n.d(t,"R",(function(){return st})),n.d(t,"Q",(function(){return rt})),n.d(t,"M",(function(){return at})),n.d(t,"lb",(function(){return dt}));var o=n(2);const c="Chat/INITIALIZE_INBOX";function i(e){return Object(o.a)({type:c},e)}const s="Chat/INITIALIZE_COLLAB";function r(e){return Object(o.a)({type:s},e)}const a="Chat/ON_ROOM_ADD";function d(e){return{type:a,roomId:e}}const u="Chat/ON_PERMISSION_DISCONNECT";function b(e){return{type:u,roomId:e}}const l="Chat/ON_USER_ADD";function f(e,t){return{type:l,memberId:t,roomId:e}}const O="Chat/ON_USER_REMOVE";function y(e,t){return{type:O,memberId:t,roomId:e}}const m="Chat/ON_USER_JOIN";function j(e,t){return{type:m,memberId:t,roomId:e}}const I="Chat/ON_USER_LEAVE";function g(e,t){return{type:I,memberId:t,roomId:e}}const h="Chat/ON_SEEN_MESSAGE";function p(e,t,n){return{type:h,lastMessageSeenIndex:n,memberId:t,roomId:e}}const _="Chat/ON_TYPING";function S(e,t,n){return{type:_,memberId:t,roomId:e,utcTime:n}}const K="Chat/ON_NOT_TYPING";function E(e,t){return{type:K,memberId:t,roomId:e}}const C="Chat/ON_HEADLINE_SET";function R(e,t,n){return{type:C,headline:n,memberId:t,roomId:e}}const T="Chat/ON_MESSAGE";function M(e,t){return{type:T,message:t,roomId:e}}const D="Chat/ON_MESSAGE_STATE_CHANGE";function N(e){return{type:D,roomId:e}}const A="Chat/ON_CHAT_CLOSED";function P(e){return{type:A,roomId:e}}const z="Chat/ON_SHUTDOWN";function k(){return{type:z}}const v="Chat/RECEIVE_INBOX";function L(e,t){return{type:v,state:t,_stateKey:e}}const w="Chat/GET_INBOX_HISTORY";function x(e,t){return{type:w,_stateKey:e,newRoomTypes:t}}const U="Chat/RECEIVE_INBOX_ROOMS";function B(e,t,n){return{roomIdsToStateKey:n,type:U,state:t,_stateKey:e}}const G="Chat/UPDATE_INBOX_ROOMS_LOADING";function F(e,t){return{type:G,isLoading:t,_stateKey:e}}const $="Chat/UPDATE_SETTING_DIALOG_STATE";function H(e,t){return{type:$,isOpen:t,_stateKey:e}}const J="Chat/UPDATE_ROOM_TYPE_FILTER_STATE";const V="Chat/SET_MOBILE_DIALOG_VISIBILITY";function Y(e,t){return{_stateKey:e,isMobileChatDialogOpen:t,type:V}}const X="Chat/UPDATE_SELECTED_ROOM";function W(e,t){return{type:X,roomId:t,_stateKey:e}}const q="Chat/UPDATE_SELECTED_DRAFT";function Z(e,t){return{type:q,draftStateKey:t,_stateKey:e}}const Q="Chat/JOIN_ROOM";function ee(e,t,n=null){return{_stateKey:e,inboxStateKey:n,roomId:t,type:Q}}const te="Chat/RECEIVE_ROOM";function ne(e,t){return{type:te,state:t,_stateKey:e}}const oe="Chat/ADD_USER";const ce="Chat/REMOVE_USER";function ie(e,t){return{type:ce,memberId:t,_stateKey:e}}const se="Chat/SEND_SEEN_MESSAGE";function re(e,t,n){return{type:se,messageId:t,roomId:n,_stateKey:e}}const ae="Chat/SEND_TYPING";function de(e){return{type:ae,_stateKey:e}}const ue="Chat/SET_TAB";function be(e,t){return{type:ue,tab:t,_stateKey:e}}const le="Chat/SET_HAS_USER_DISMISSED_LANG_NOTIFICATION";function fe(e,t){return{_stateKey:e,hasDismissedNotification:t,type:le}}const Oe="Chat/HIDE_ROOM";function ye(e){return{type:Oe,_stateKey:e}}const me="Chat/REPORT_USER";function je(e,t,n,o){return{type:me,callback:o,memberId:t,reason:n,_stateKey:e}}const Ie="Chat/GET_MESSAGE_HISTORY";function ge(e,t){return{type:Ie,pageSize:t,_stateKey:e}}const he="Chat/RECEIVE_MESSAGE_HISTORY";function pe(e,t,n){return{type:he,messageIds:t,messageParams:n,_stateKey:e}}const _e="Chat/SEND_MESSAGE";function Se(e,t,n){return{type:_e,inProgressMessage:t,callback:n,_stateKey:e}}const Ke="Chat/RESEND_FAILED_MESSAGE";function Ee(e,t){return{type:Ke,pendingMessageId:t,_stateKey:e}}const Ce="Chat/RECEIVE_INPROGRESS_MESSAGE";function Re(e,t){return{type:Ce,inProgressMessage:t,_stateKey:e}}const Te="Chat/RECEIVE_INPROGRESS_MESSAGE_ATTACHMENTS";function Me(e,t){return{type:Te,attachmentIds:t,_stateKey:e}}const De="Chat/RECEIVE_PENDING_DRAFT";function Ne(e,t){return{type:De,inProgressMessage:t,_stateKey:e}}const Ae="Chat/RECEIVE_PENDING_DRAFT_ATTACHMENTS";function Pe(e,t){return{type:Ae,attachmentIds:t,_stateKey:e}}const ze="Chat/SHOW_DRAFT_INFO";function ke(e,t){return{type:ze,showingInfo:t,_stateKey:e}}const ve="Chat/CREATE_DRAFT";function Le(e,t){return{type:ve,inboxStateKey:e,recipientIds:t}}const we="Chat/RECEIVE_UPDATE_DRAFTS";function xe(e,t){return{type:we,draftStateKeys:t,_stateKey:e}}const Ue="Chat/UPDATE_DRAFT";function Be(e,t){return{type:Ue,draft:t,_stateKey:e}}const Ge="Chat/DELETE_DRAFT";function Fe(e){return{type:Ge,draftStateKey:e}}const $e="Chat/SEND_DRAFT";function He(e,t){return{type:$e,callback:t,draftStateKey:e}}const Je="Chat/GET_PROFILES";function Ve(e){return{type:Je,profileIds:e}}const Ye="Chat/BLOCK_USER";function Xe(e,t,n){return{type:Ye,callback:n,memberId:t,_stateKey:e}}const We="Chat/UNBLOCK_USER";function qe(e,t,n){return{type:We,callback:n,memberId:t,_stateKey:e}}const Ze="Chat/COMPLETE_ONBOARDING";function Qe(e,t,n,o,c,i,s){return{type:Ze,memberId:e,memberFirstName:t,memberLastName:n,memberGender:o,memberBirthYear:c,memberBirthMonth:i,memberBirthDay:s}}const et="Chat/RECEIVE_ONBOARDING_STATUS";function tt(e){return{type:et,hasCompletedOnboarding:e}}const nt="Chat/SET_HEADLINE";function ot(e,t){return{type:nt,headline:t,_stateKey:e}}const ct="Chat/GET_PARTICIPANT_INFO";function it(e){return{type:ct,memberId:e}}const st="Chat/MAKE_ONLINE";const rt="Chat/MAKE_OFFLINE";const at="Chat/GET_COLLABORATION_ENTITIES";function dt(e){return{type:at,collabIds:e}}},1565:function(e,t,n){"use strict";n.d(t,"a",(function(){return ze}));var o=n(2),c=n(84),i=n.n(c),s=n(109),r=n.n(s),a=n(869),d=n.n(a),u=n(99),b=n.n(u),l=n(98),f=n.n(l),O=n(0),y=n.n(O),m=n(126),j=n(1),I=n(1517),g=n(31),h=n(74),p=n(28),_=n(7),S=n(4),K=n(8),E=n(19),C=n(129),R=n(810),T=n(23),M=n(11),D=n(50),N=n(25),A=n(520),P=n(147),z=n(1128);const k=y.a.lazy(()=>n.e(23).then(n.bind(null,1311)));function*v(e){var t;const n=e.inboxStateKey;yield Object(j.i)(Object(D.c)(n,z.a));const o=yield*x(n,null),c=yield Object(j.c)(oe,n,o);null===(t=e.callback)||void 0===t||t.call(e,c)}function*L(e){const t=Object(E.i)("inbox"),n=e.chatStateKey;yield Object(j.i)(Object(h.a)([Object(D.c)(t,z.a),Object(D.c)(n,z.d)]));const o=e.client;yield Object(j.c)({context:o,fn:o.joinCollabChat},{apiUrl:"/svc/z3/chat/"});const c=yield Object(j.c)({context:o,fn:o.getChatRoom}),i=yield Object(j.c)({context:c,fn:c.getClient});yield*x(t,i);const s=c.getId(),r=c.getMyself(),a={};a[s]=n;const d=ie([c.getDescriptor()]),u={hasInitialized:!0,inboxOwnerId:r,roomIdsToStateKey:a,rooms:{hasMoreChats:!1,isLoading:!1,parameters:{pageSize:1},roomIds:[s]},selectedRoomIdOrDraftStateKey:s,status:c.isJoined()?"reading":"error"};yield Object(j.i)(Object(h.a)([Object(M.c)({chatConversations:d}),P.Mb(n,{roomId:c.getId(),myself:r,inboxStateKey:t,hasJoinedSdkRoom:c.isJoined()}),P.Ib(t,u)])),yield Object(j.i)(P.ob(r)),yield Object(j.i)(P.nb(n))}function*w(e,t,...n){try{return yield Object(j.c)({context:e,fn:t},...n)}catch(o){if(o&&o.code&&401===o.code){let o=yield Object(j.k)();const c=o.User.memberId;yield Object(j.i)(g.b.showLoginDialog());if((yield Object(j.m)([g.a.LOG_IN_SUCCESS,g.a.LOG_IN_FAILED])).type===g.a.LOG_IN_SUCCESS){o=yield Object(j.k)();if(c===o.User.memberId){return yield Object(j.c)({context:e,fn:t},...n)}window.location.reload()}else window.location.reload()}}}function*x(e,t){let n=t;if(null==n){const e=Object(p.b)(yield Object(j.k)()),t=I.a.create({apiUrl:"/svc/z3/chat/",authData:{csrfToken:Object(_.a)().csrf},joinAllRooms:!0,requestTimeoutMs:e("Int32","www","Chat.RequestTimeoutMs",5e3),roomRejoinIntervalMs:e("Int32","www","Chat.RoomRejoinIntervalMs",1e4),socketUrl:Object(_.a)().zsockServerUrl},!0);n=yield Object(j.c)(()=>t),yield Object(j.c)(w,n,n&&n.init)}return yield Object(j.g)(U,n),yield Object(j.b)([Object(j.n)(P.o,(function*(t){yield Object(j.c)(G,t,e)})),Object(j.n)(P.n,(function*(t){yield Object(j.c)(F,t,n,e)})),Object(j.n)(P.s,(function*(e){yield Object(j.c)($,e,n)})),Object(j.n)(P.v,(function*(t){yield Object(j.c)(H,t,n,e)})),Object(j.n)(P.t,(function*(e){yield Object(j.c)(J,e,n)})),Object(j.n)(P.u,(function*(e){yield Object(j.c)(V,e,n)})),Object(j.n)(P.p,(function*(e){yield Object(j.c)(Y,e,n)})),Object(j.n)(P.r,(function*(e){yield Object(j.c)(X,e,n)})),Object(j.n)(P.m,(function*(e){yield Object(j.c)(W,e,n)})),Object(j.n)(P.l,(function*(e){yield Object(j.c)(q,e,n)})),Object(j.n)(P.T,(function*(t){const o=yield Object(j.c)(ne,e,t.roomId);yield Object(j.c)(Q,t,n,o)})),Object(j.n)(P.S,(function*(t){yield Object(j.c)(Z,t,n,e)})),Object(j.n)(P.k,(function*(e){yield Object(j.c)(ee,e,n)})),Object(j.n)(P.q,(function*(e){yield Object(j.c)(te,e,n)})),Object(j.n)(P.O,(function*(e){yield Object(j.c)(ce,e,n)})),Object(j.n)(P.j,(function*(e){yield Object(j.c)(re,e,n)})),Object(j.n)(P.b,(function*(e){yield Object(j.c)(ue,e,n)})),Object(j.n)(P.x,(function*(e){yield Object(j.c)(be,e,n)})),Object(j.n)(P.D,(function*(e){yield Object(j.c)(le,e,n)})),Object(j.n)(P.E,(function*(e){yield Object(j.c)(fe,e,n)})),Object(j.n)(P.g,(function*(t){yield Object(j.c)(Oe,t,n,e)})),Object(j.n)(P.y,(function*(e){yield Object(j.c)(ye,e,n)})),Object(j.n)(P.e,(function*(e){yield Object(j.c)(je,e,n)})),Object(j.n)(P.C,(function*(e){yield Object(j.c)(ge,e,n)})),Object(j.n)(P.z,(function*(e){yield Object(j.c)(he,e,n)})),Object(j.n)(P.c,(function*(e){yield Object(j.c)(pe,e)})),Object(j.n)(P.d,(function*(e){yield Object(j.c)(_e,e)})),Object(j.n)(P.B,(function*(e){yield Object(j.c)(Se,e,n)})),Object(j.n)(P.a,(function*(e){yield Object(j.c)(Ee,e,n)})),Object(j.n)(P.eb,(function*(e){yield Object(j.c)(Ce,e,n)})),Object(j.n)(P.K,(function*(e){yield Object(j.c)(Me,e,n)})),Object(j.n)(P.H,(function*(e){yield Object(j.c)(Re,e,n)})),Object(j.n)(P.f,(function*(e){yield Object(j.c)(Te,e,n)})),Object(j.n)(P.R,(function*(e){yield Object(j.c)(De,e,n)})),Object(j.n)(P.Q,(function*(e){yield Object(j.c)(Ne,e,n)}))]),n}function*U(e){const t=yield Object(j.c)(B,e);for(;;){const e=yield Object(j.m)(t);e&&(yield Object(j.i)(e))}}function*B(e){return Object(m.d)(t=>(e.onChatMessage((e,n)=>{t(P.vb(Object(A.i)(e.roomId),n))}),e.onMessageStateChange(e=>{t(P.xb(Object(A.i)(e.roomId)))}),e.onRoomAdd(e=>{t(P.Ab(Object(A.i)(e.roomId)))}),e.onPermissionDisconnect(e=>{t(P.zb(Object(A.i)(e.roomId)))}),e.onUserAdd((e,n)=>{t(P.Eb(Object(A.i)(e.roomId),n.memberId))}),e.onUserRemove((e,n)=>{t(P.Hb(Object(A.i)(e.roomId),n))}),e.onUserJoin((e,n)=>{t(P.Fb(Object(A.i)(e.roomId),n))}),e.onUserLeave((e,n)=>{t(P.Gb(Object(A.i)(e.roomId),n))}),e.onSeenMessage((e,n,o)=>{t(P.Bb(Object(A.i)(e.roomId),n,o))}),e.onTyping((e,n,o)=>{t(P.Db(Object(A.i)(e.roomId),n,o))}),e.onNotTyping((e,n)=>{t(P.yb(Object(A.i)(e.roomId),n))}),e.onHeadlineSet((e,n,o)=>{t(P.wb(Object(A.i)(e.roomId),n,o))}),e.onChatClosed(e=>{t(P.ub(Object(A.i)(e.roomId)))}),e.onShutdown(()=>{t(P.Cb())}),()=>{e.shutdown()}))}function*G(e,t){yield*se(t,e.roomId)}function*F(e,t,n){n&&(yield*ae([e.roomId],n,t))}function*$(e,t){yield Object(j.c)(de,e.roomId,t)}function*H(e,t,n){const o=yield Object(j.k)(),c=Object(C.j)(o,n);e.memberId===c.inboxOwnerId?yield*ae([e.roomId],n,t):yield Object(j.c)(de,e.roomId,t)}function*J(e,t){}function*V(e,t){}function*Y(e,t){yield Object(j.c)(de,e.roomId,t)}function*X(e,t){yield Object(j.c)(de,e.roomId,t)}function*W(e,t){yield Object(j.c)(de,e.roomId,t)}function*q(e,t){yield Object(j.c)(de,e.roomId,t)}function*Z(e,t,n){const o=e.roomId;let c=yield Object(j.c)(ne,n,o);if(o){if(c||(c=yield*se(n,o)),c){const n=yield Object(j.c)(w,t,t&&t.getRoomById,o),i=yield Object(j.c)(w,n,n&&n.getPendingMessages);yield Object(j.i)(P.Mb(c,{pendingMessages:f()(i)})),yield Object(j.c)(Ie,c,[e.message])}yield Object(j.c)(de,o,t)}}function*Q(e,t,n){if(e.roomId){const o=yield Object(j.c)(w,t,t&&t.getRoomById,e.roomId);if(o&&n){const e=yield Object(j.c)(w,o,o&&o.getPendingMessages);yield Object(j.i)(P.Mb(n,{pendingMessages:f()(e)}));const t=yield Object(j.k)(),c=Object(N.b)(t,n),i=c.messageIds&&c.messageIds[c.messageIds.length-1],s=i&&t.entities.chatMessages[i],r=s?s.messageIndex:0,a=yield Object(j.c)(w,o,o&&o.getMessagesRecent,r);if(a&&a.items&&a.items.length>0){const e=a&&f()(a.items);yield Object(j.c)(Ie,n,e)}}}}function*ee(e,t){yield Object(j.c)(de,e.roomId,t)}function*te(e,t){location.href=location.href}function*ne(e,t){const n=yield Object(j.k)(),o=Object(C.j)(n,e),c=o&&o.roomIdsToStateKey;return c&&c[t]}function*oe(e,t){let n=yield Object(j.k)();const o=Object(C.j)(n,e),c=o&&"drafting"===o.status;if(c&&o.draftStateKeys)for(let g=0;g<o.draftStateKeys.length;g++){yield Object(j.i)(Object(D.c)(o.draftStateKeys[g],z.b));const e=Object(N.b)(n,o.draftStateKeys[g]);if(e.participants)for(let t=0;t<e.participants.length;t++)yield Object(j.i)(P.ob(e.participants[t]))}const i=[],s={},r=o&&"loading"===o.status&&o.selectedRoomIdOrDraftStateKey;let a=null;if(!c&&r&&o.selectedRoomIdOrDraftStateKey){a=o.selectedRoomIdOrDraftStateKey;const n=Object(E.i)("chat");i.push(a),s[a]=n,yield Object(j.i)(Object(D.c)(n,z.d)),yield Object(j.c)(re,P.tb(n,a,e),t),o.selectedRoomMessage&&(yield Object(j.i)(P.cc(n,o.selectedRoomMessage)))}const d={pageSize:A.b},u=yield Object(j.c)(w,t,t&&t.getRooms,0,d.pageSize,!0),b=u&&u.items;if(b){yield Object(j.c)(w,t,t&&t.joinRooms,b.map(e=>e.getDescriptor()));if(!b.some(e=>!e.isJoined()))for(let t=0;t<b.length;t++){const n=b[t].getId();if(n!==a){const t=Object(E.i)("chat");i.push(n),s[n]=t,yield Object(j.i)(Object(D.c)(t,z.d)),yield Object(j.i)(P.tb(t,n,e))}}else yield Object(j.i)(P.Ib(e,{status:"error"}))}const l=yield Object(j.c)(w,t,t&&t.getBlockedUsers),f=new Set,O=c||r?o.selectedRoomIdOrDraftStateKey:i&&i.length>0?i[0]:null;n=yield Object(j.k)();const y=Object(C.j)(n,e),m="error"===y.status?y.status:c?o.status:"reading",I={hasInitialized:!0,activeRoomTypes:f,roomIdsToStateKey:s,rooms:{hasMoreChats:u&&u.hasNext,isLoading:!1,parameters:d,roomIds:i},settings:{isOnline:!0,blockedUsers:l,isOpen:!1},selectedRoomIdOrDraftStateKey:O,status:m};return yield Object(j.i)(P.Ib(e,I)),yield Object(j.i)(P.ob(y.inboxOwnerId)),c&&o.draftStateKeys&&o.draftStateKeys.length>0&&(yield*Ke(o.draftStateKeys[0],!0)),I}function*ce(e,t){const n=yield Object(j.k)(),c=Object(C.j)(n,e._stateKey),i=(()=>{if(e.newRoomTypes){const t=c.activeRoomTypes.size===e.newRoomTypes.size;if(t&&0===c.activeRoomTypes.size)return!1;if(!t)return!0;return 0!==new Set([...c.activeRoomTypes].filter(t=>!e.newRoomTypes.has(t))).size}return!1})();if(null===c.rooms||c.rooms.hasMoreChats||i){const n=c.roomIdsToStateKey?Object(o.a)({},c.roomIdsToStateKey):{},s=null==c?void 0:c.status;i&&(c.rooms={hasMoreChats:!1,isLoading:!0,parameters:{pageSize:A.b},roomIds:[]},yield Object(j.i)(Object(h.a)([P.Jb(e._stateKey,c.rooms,n),P.Ib(e._stateKey,{hasInitialized:!0,selectedRoomIdOrDraftStateKey:null,status:"loading"})]))),yield Object(j.i)(P.ec(e._stateKey,!0));const r=c.rooms&&c.rooms.roomIds&&c.rooms.roomIds.length,a=c.rooms&&c.rooms.parameters?c.rooms.parameters.pageSize:A.b,d=r/a-1,u=Math.max(Math.floor(d),0),l=u!==d?2*a-r%a:a,f=u!==d?u:u+1,O=e.newRoomTypes||c.activeRoomTypes,y=O&&[...O];let m;m=y&&0!==y.length?yield Object(j.c)(w,t,t&&t.getRooms,f,l,!0,void 0,y):yield Object(j.c)(w,t,t&&t.getRooms,f,l,!0);const I=m&&m.items,g=c.rooms.roomIds?[...c.rooms.roomIds]:[];if(I){yield Object(j.c)(w,t,t&&t.joinRooms,I.map(e=>e.getDescriptor()));for(const t of I){const o=t.getId();if(g.push(o),!n.hasOwnProperty(o)){const t=Object(E.i)("chat");n[o]=t,yield Object(j.i)(Object(D.c)(t,z.d)),yield Object(j.i)(P.tb(t,o,e._stateKey))}}}const p={hasMoreChats:m&&m.hasNext,isLoading:!1,parameters:{pageSize:a},roomIds:b()(g)};if(yield Object(j.i)(P.Jb(e._stateKey,p,n)),i){const t={activeRoomTypes:e.newRoomTypes,hasInitialized:!0,status:s},n=0===e.newRoomTypes.size&&"drafting"===s&&(null==c?void 0:c.draftStateKeys)&&c.draftStateKeys.length>0&&c.draftStateKeys[0]||g.length>0&&g[0];n&&(t.selectedRoomIdOrDraftStateKey=n),yield Object(j.i)(P.Ib(e._stateKey,t))}}}function ie(e){const t={};if(e)for(let n=0;n<e.length;n++)t[e[n].id]=f()(e[n]);return t}function*se(e,t){let n=null;if(e){const o=yield Object(j.k)(),c=Object(C.j)(o,e);if(!(c&&c.rooms&&c.rooms.roomIds&&c.rooms.roomIds.indexOf(t)>-1)){n=Object(E.i)("chat"),yield Object(j.i)(Object(D.c)(n,z.d)),yield Object(j.i)(P.tb(n,t,e));const o=c.rooms.roomIds||[],i={};i[t]=n;const s={roomIds:[t,...o]};yield Object(j.i)(P.Jb(e,s,Object.assign({},c.roomIdsToStateKey||{},i)))}}return n}function*re(e,t){if(e.roomId){const n=yield Object(j.c)(w,t,t&&t.getRoomById,e.roomId);if(n){const t=n.getDescriptor(),o=ie([t]);yield Object(j.i)(Object(h.a)([Object(M.c)({chatConversations:o}),P.Mb(e._stateKey,{hasJoinedSdkRoom:!1,inboxStateKey:e.inboxStateKey,roomId:e.roomId})])),yield Object(j.c)(w,n,n&&n.join);const c=n.getMyself();c&&n.isJoined()?(yield Object(j.i)(P.Mb(e._stateKey,{hasJoinedSdkRoom:!0,myself:c})),"collab_chat"===t.type&&t.collabId&&(yield Object(j.i)(P.lb([t.collabId])))):yield Object(j.i)(P.Ib(e.inboxStateKey,{status:"error"}))}}}function*ae(e,t,n){const c=yield Object(j.k)(),i=Object(C.j)(c,t);if(e&&e.length>0){const n=i.rooms.roomIds?[...i.rooms.roomIds]:[],c=i.roomIdsToStateKey?Object(o.a)({},i.roomIdsToStateKey):{};let s=i.selectedRoomIdOrDraftStateKey;const r=[];for(let t=0;t<e.length;t++){const o=e[t],i=n.indexOf(o);i>-1&&n.splice(i,1);const s=c[o];c[o]&&delete c[o],r.push(Object(D.d)(s))}-1===n.indexOf(i.selectedRoomIdOrDraftStateKey)&&"reading"===i.status&&(s=n&&n.length>0?n[0]:null);const a={roomIdsToStateKey:c,rooms:Object(o.a)(Object(o.a)({},i.rooms),{},{roomIds:n}),selectedRoomIdOrDraftStateKey:s};yield Object(j.i)(Object(h.a)([P.Ib(t,a),...r]))}}function*de(e,t){if(e){const n=yield Object(j.c)(w,t,t&&t.getRoomById,e);if(n){const e=ie([n.getDescriptor()]);yield Object(j.i)(Object(M.c)({chatConversations:e}))}}}function*ue(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey);if(o.roomId){const n=yield Object(j.c)(w,t,t&&t.getRoomById,o.roomId);n&&(yield Object(j.c)(w,t,t&&t.addToChat,n.getDescriptor(),e.memberId))}}function*be(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey);if(o.roomId){const n=yield Object(j.c)(w,t,t&&t.getRoomById,o.roomId);n&&(yield Object(j.c)(w,t,t&&t.removeFromChat,n.getDescriptor(),e.memberId))}}function*le(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey),c=n.entities.chatMessages[e.messageId],i=e.roomId?e.roomId:o.roomId;if(i){const e=yield Object(j.c)(w,t,t&&t.getRoomById,i);e&&c&&e.getDescriptor().lastSeenIndex<c.messageIndex&&(yield Object(j.c)(w,e,e&&e.sendSeenMessage,c.messageIndex))}}function*fe(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey);if(o.roomId){const e=yield Object(j.c)(w,t,t&&t.getRoomById,o.roomId);e&&(yield Object(j.c)(w,e,e&&e.sendTyping))}}function*Oe(e,t,n){const o=yield Object(j.k)(),c=Object(N.b)(o,e._stateKey);if(c.roomId){const e=yield Object(j.c)(w,t,t&&t.getRoomById,c.roomId);e&&(yield Object(j.c)(w,e,e&&e.hideUnhide,!0),yield*ae([c.roomId],n))}}function*ye(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey);if(o.roomId){const n=yield Object(j.c)(w,t,t&&t.getRoomById,o.roomId);var c;if(n)yield Object(j.c)(w,n,n&&n.reportUser,e.memberId,e.reason),null===(c=e.callback)||void 0===c||c.call(e)}}function me(e,t){let n=0;const o=e.sentDate,c=t.sentDate;return o>c?n=1:o<c&&(n=-1),n}function*je(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey);if(null===o.messageParams||o.messageParams.hasOlderMessages){const c=o.messageIds&&o.messageIds[0],i=c&&n.entities.chatMessages[c],s=i?i.messageIndex:0,r=e.pageSize?e.pageSize:o.messageParams&&o.messageParams.pageSize?o.messageParams.pageSize:A.a;if(o.roomId){const n=yield Object(j.c)(w,t,t&&t.getRoomById,o.roomId);if(n){yield Object(j.i)(P.Mb(e._stateKey,{isLoadingMessages:!0}));const t=yield Object(j.c)(w,n,n&&n.getMessages,r,s),o=t&&f()(t.items);yield Object(j.c)(Ie,e._stateKey,o,{hasOlderMessages:t&&t.hasPrev,pageSize:r}),yield Object(j.i)(P.Mb(e._stateKey,{isLoadingMessages:!1}))}}}}function*Ie(e,t,n){const o=function(e){const t={};if(e)for(let n=0;n<e.length;n++)t[e[n].messageId]=f()(e[n]);return t}(t),c=yield Object(j.k)(),i=Object(N.b)(c,e),s=i.messageIds.map(e=>c.entities.chatMessages[e]),r=d()((t||[]).concat(s),"messageId").sort(me).map(e=>e.messageId);yield Object(j.i)(Object(h.a)([Object(M.c)({chatMessages:o}),P.Kb(e,r,n||i.messageParams)]))}function*ge(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey);if(o.roomId){const n=yield Object(j.c)(w,t,t&&t.getRoomById,o.roomId);if(n){var c;const t=e.inProgressMessage?e.inProgressMessage.message:o.inProgressMessage.message,i=e.inProgressMessage?e.inProgressMessage.attachmentIds:o.inProgressMessage.attachmentIds;if(n&&(t||i)){yield Object(j.i)(P.cc(e._stateKey,{message:"",attachmentIds:[]}));const o=i?i.map(e=>({attachmentId:e})):null;yield Object(j.c)(w,n,n&&n.sendMessage,{contents:t,culture:Object(_.a)().culture,attachmentInfos:o})}null===(c=e.callback)||void 0===c||c.call(e)}}}function*he(e,t){const n=yield Object(j.k)(),o=Object(N.b)(n,e._stateKey),c=o.pendingMessages.findIndex(t=>t.uid===e.pendingMessageId);if(c>-1){const e=o.pendingMessages[c];if(o.roomId){const n=yield Object(j.c)(w,t,t&&t.getRoomById,o.roomId);n&&(yield Object(j.c)(w,n,n&&n.sendPendingMessage,e))}}}function*pe(e){const t=yield Object(j.k)(),n=Object(C.j)(t,e.inboxStateKey),o=n&&n.draftStateKeys&&n.draftStateKeys.length>0,c=null!=e.recipientIds&&e.recipientIds.length>0;if(o&&!c)yield Object(j.i)(P.hc(e.inboxStateKey,n.draftStateKeys[0]));else{const o=Object(E.i)("draft");yield Object(j.i)(Object(D.c)(o,z.b));const i={inboxStateKey:e.inboxStateKey};if(c){i.participants=e.recipientIds;const n=[];for(let o=0;o<e.recipientIds.length;o++)t.entities.profiles[e.recipientIds[o]]||n.push(e.recipientIds[o]);n.length>0&&(yield Object(j.i)(P.pb(n)));for(let o=0;o<e.recipientIds.length;o++)t.entities.chatParticipants[e.recipientIds[o]]||(yield Object(j.i)(P.ob(e.recipientIds[o])))}yield Object(j.i)(P.bc(o,i)),yield Object(j.i)(P.Nb(e.inboxStateKey,[...n.draftStateKeys||[],o])),yield Object(j.i)(P.hc(e.inboxStateKey,o)),Ke(o,!0)}}function*_e(e){const t=yield Object(j.k)(),n=Object(N.b)(t,e.draftStateKey),o=Object(C.j)(t,n.inboxStateKey);yield Object(j.i)(Object(D.d)(e.draftStateKey));const c=r()(o.draftStateKeys),i=c.indexOf(e.draftStateKey);if(i>-1&&c.splice(i,1),yield Object(j.i)(P.Nb(n.inboxStateKey,c)),"drafting"==o.status&&o.selectedRoomIdOrDraftStateKey===e.draftStateKey){const e=o&&o.rooms&&o.rooms.roomIds&&o.rooms.roomIds.length>0?o.rooms.roomIds[0]:null;yield Object(j.i)(P.ic(n.inboxStateKey,e))}}function*Se(e,t){const n=yield Object(j.k)(),c=Object(N.b)(n,e.draftStateKey),i=c.inboxStateKey,s=Object(C.j)(n,i),a=c.participants;if(a&&a.length>0){const n=c.inProgressMessage;yield Object(j.i)(P.fc(e.draftStateKey,{message:"",attachmentIds:[]}));const u=a.length>1,b=yield Object(j.c)(w,t,t&&t.createRoom,a,u);if(b){var d;const c=b&&b.getId(),a=!(s&&s.roomIdsToStateKey[c]),u=a?Object(E.i)("chat"):s.roomIdsToStateKey[c],l=r()(s.draftStateKeys),f=l.indexOf(e.draftStateKey);f>-1&&l.splice(f,1);let O=s&&s.rooms&&s.rooms.roomIds,y=s&&s.roomIdsToStateKey;if(a){s&&s.rooms&&(O=[c,...s.rooms.roomIds]);const e={};e[c]=u,y=Object.assign(e,s&&s.roomIdsToStateKey)}const m=Object(o.a)(Object(o.a)({},s),{},{status:"reading",roomIdsToStateKey:y,rooms:Object(o.a)(Object(o.a)({},s.rooms),{},{roomIds:O}),draftStateKeys:l,selectedRoomIdOrDraftStateKey:c}),I=[Object(D.d)(e.draftStateKey)];a&&I.push(Object(D.c)(u,z.d)),I.push(P.Ib(i,m)),yield Object(j.i)(Object(h.a)(I)),null===(d=e.callback)||void 0===d||d.call(e),a&&(yield*re(P.tb(u,c,i),t)),yield*ge(P.Sb(u,{message:n.message,attachmentIds:n.attachmentIds}),t)}}}function*Ke(e,t){const n=yield Object(j.k)(),c=Object(N.b)(n,e),i=c.inboxStateKey,s=Object(C.j)(n,i).settings.blockedUsers,r=[],a=[];for(let o=0;o<c.participants.length;o++){s.every(e=>e.memberId!==c.participants[o])?a.push(c.participants[o]):r.push(c.participants[o])}if(r.length>0){const n=Object(K.c)(yield Object(j.k)());let s=!1;if(t&&(s=yield*function*(e){let t;const n=new Promise(e=>t=e);let c=!1;function i(e){c=e,t()}const s=e.children,r=()=>i(!1),a=y.a.createElement(k,Object(o.a)({onOk:()=>i(!0),onCancel:r,onRequestClose:r},e),s);return yield Object(j.i)(Object(T.d)(a)),yield Object(j.c)(()=>n),yield Object(j.i)(Object(T.c)(a)),c}({cancelText:n("zi_common_Application_Cancel"),children:n("zi_myzazzle_chat_YouPreviouslyBlockedUnblockToChat"),okText:n("zi_myzazzle_chat_unblock"),title:n("zi_myzazzle_chat_UnblockPerson"),mode:R.a.Info})),s)for(let e=0;e<r.length;e++)yield Object(j.i)(P.ac(i,r[e]));else 0===a.length?yield Object(j.i)(P.kb(e)):yield Object(j.i)(P.bc(e,Object(o.a)(Object(o.a)({},c),{},{participants:a})))}}function*Ee(e,t){var n;yield Object(j.c)(w,t,t&&t.toggleBlockUser,e.memberId,!0),null===(n=e.callback)||void 0===n||n.call(e);const o=e._stateKey,c={settings:{blockedUsers:yield Object(j.c)(w,t,t&&t.getBlockedUsers)}};yield Object(j.i)(P.Ib(o,c));const i=yield Object(j.k)(),s=Object(C.j)(i,o);for(let r=0;r<s.draftStateKeys.length;r++)yield*Ke(s.draftStateKeys[r],!1)}function*Ce(e,t){var n;yield Object(j.c)(w,t,t&&t.toggleBlockUser,e.memberId,!1),null===(n=e.callback)||void 0===n||n.call(e);const o=e._stateKey,c={settings:{blockedUsers:yield Object(j.c)(w,t,t&&t.getBlockedUsers)}};yield Object(j.i)(P.Ib(o,c))}function*Re(e,t){yield Object(j.c)(w,t,t&&t.setHeadline,e.headline);const n=e._stateKey,o=yield Object(j.k)(),c=Object(C.j)(o,n);yield Object(j.i)(P.ob(c.inboxOwnerId))}function*Te(e,t){if(e.memberId){const n=yield Object(j.c)(w,t,t&&t.getParticipantInfo,e.memberId);if(n){const e=function(e){const t={};if(e)for(let n=0;n<e.length;n++)t[e[n].memberId]=f()(e[n]);return t}([n]);yield Object(j.i)(Object(M.c)({chatParticipants:e}))}}}function*Me(e,t){const n={memberId:e.memberId,firstName:e.memberFirstName,lastName:e.memberLastName,gender:e.memberGender,birthMonth:e.memberBirthMonth,birthYear:e.memberBirthYear,birthDay:e.memberBirthDay};try{const e=yield Object(j.c)(S.e,"/svc/profile/completechatonboarding",n);if(e&&e.success){const{completed:t,entities:n}=e.data;yield Object(j.i)(P.Lb(t)),n&&(yield Object(j.i)(Object(M.c)(n)))}}catch(o){}}function*De(e,t){const n=e._stateKey,o={settings:{isOnline:!0}};yield Object(j.i)(P.Ib(n,o))}function*Ne(e,t){const n=e._stateKey,o={settings:{isOnline:!1}};yield Object(j.i)(P.Ib(n,o))}function*Ae(e){const t=b()(e.collabIds),n=yield Object(j.b)(t.map(e=>Object(j.g)(S.d,"/svc/z3/collaboration/GetCollaborationEntity",{collabId:e}))),o=(yield Object(j.b)(n.map(e=>Object(j.h)(e)))).filter(e=>e.success).map(e=>e.data.entities).reduce(i.a,{});yield Object(j.i)(Object(M.c)(o))}function*Pe(e){const t=b()(e.profileIds),n=yield Object(j.b)(t.map(e=>Object(j.g)(S.d,"/svc/z3/profile/get",{profileOwnerId:e}))),o=(yield Object(j.b)(n.map(e=>Object(j.h)(e)))).filter(e=>e.success).map(e=>e.data.entities).reduce(i.a,{});yield Object(j.i)(Object(M.c)(o))}function*ze(){yield Object(j.b)([Object(j.n)(P.i,v),Object(j.n)(P.h,L),Object(j.n)(P.M,Ae),Object(j.n)(P.N,Pe)])}},520:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"g",(function(){return y})),n.d(t,"l",(function(){return m})),n.d(t,"i",(function(){return j})),n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return h}));var o=n(1651),c=n.n(o),i=n(27),s=n(59),r=n(129),a=n(25);const d=20,u=20;function b(e){let t="";if(e){const n=Date.now(),o=new Date(n),c=e.getFullYear()==o.getFullYear()&&e.getMonth()==o.getMonth()&&e.getDate()==o.getDate(),i=n-6048e5,r=e.getTime()>i;t=c?Object(s.f)(e,{hour:"numeric",minute:"numeric"}):r?Object(s.c)(e,{weekday:"short",hour:"numeric",minute:"numeric"}):Object(s.b)(e,{month:"short",day:"numeric"})}return t}const l=(e,t,n=3)=>{if(!e||0===e.length)return"";let o=0;if(e.length<=n)o=0;else{const t=n-1;o=e.length-t}const c=[],i=e.length<=n?e.length:n-1;for(let s=0;s<i;s++){const n=e[s].displayName||t("zi_common_Anonymous");c.push(n)}1==o&&c.push(t("zi_myzazzle_chat_otherSingular")),o>=2&&c.push(t("zi_myzazzle_chat_othersPlural",{num:o}));return c.join(", ")},f=(e,t,n=3)=>{if(!e||0===e.length)return"";if(1===e.length)return e[0].displayName||t("zi_common_Anonymous");let o=0;if(e.length<=n)o=0;else{const t=n-1;o=e.length-t}const c=[],i=e.length<=n?e.length:n-1;for(let r=0;r<i;r++){const n=e[r],o=n.firstName||n.displayName||t("zi_common_Anonymous");c.push(o)}if(2===o){const e=t("zi_myzazzle_Chat_And")+" "+t("zi_myzazzle_Chat_NewOtherSingular");c.push(e)}if(o>=3){const e=t("zi_myzazzle_Chat_And")+" "+t("zi_myzazzle_Chat_NewOthersPlural",{num:o-1});c.push(e)}let s="";return s=e.length>3?c.join(", "):c.join(` ${t("zi_myzazzle_Chat_And")} `),s},O=Object(i.a)((e,t)=>e.entities.chatConversations,(e,t)=>Object(a.b)(e,t.chatStateKey),(e,t)=>{const n=Object(a.b)(e,t.chatStateKey);return y(n,n&&Object(r.j)(e,n.inboxStateKey))},(e,t,n)=>{const o=e[t&&t.roomId];if(!n||"0"===n)return null;const c=o&&o.participants&&o.participants.map(e=>e.participant);if(!c)return null;let i=null;const s=[];return c.forEach(e=>{e.memberId===n?i=e:s.push(e)}),{myself:i,otherParticipants:s}});function y(e,t){let n=e&&e.myself;return!n&&t&&(n=t.inboxOwnerId),n}const m=Object(i.a)((e,t)=>Object(a.b)(e,t),(e,t)=>e.entities.chatParticipants,(e,t)=>{var n;return t&&e?null===(n=t[e.inboxOwnerId])||void 0===n?void 0:n.headline:null});function j(e){return e?e.toLowerCase():e}function I(e,t,n,o){if(!n||!e||o!==t)return!1;return(e.sentDate.valueOf()-n.sentDate.valueOf())/1e3/60<=5}function g(e,t,n){if(null===t)return!0;return!I(t,t&&t.sentBy&&t.sentBy.memberId,e,n&&n.memberId)}function h(e){if(!e)return!1;const t=c()(),n=e.replace(t,"");return n!==e&&!n.trim()}},810:function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return o})),function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning"}(o||(o={}))}}]);